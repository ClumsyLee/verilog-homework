\documentclass[11pt,a4paper]{article}
\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt minus 0.1pt
\usepackage[top=1in,bottom=1in,left=1.25in,right=1.25in]{geometry}
\usepackage{float}
\usepackage{fontspec}
\newfontfamily\zhfont[BoldFont=STHeiti]{STFangsong}
\newfontfamily\zhpunctfont{STFangsong}
\setmainfont{Times New Roman}
\usepackage{indentfirst}
\usepackage{zhspacing}
\zhspacing

% 代码展示
\usepackage{color}
\definecolor{bg}{rgb}{0.152941, 0.156863, 0.133333}
\usepackage{minted}
\usemintedstyle{monokai}
\setmonofont{DejaVuSansMono}

\usepackage{fancyvrb}  % 调整 Verbatim 中字体

% 调整 quotation 字体
\let\quotationOLD\quotation
\def\quotation{\quotationOLD\footnotesize}

\usepackage{pdfpages}  % 附上 pdf 版综合结果

\newcommand{\problem}[4] {
  \section{#1}

  \subsection{电路结构}
  \begin{figure}[H]
    \centering
      \includegraphics{#2/#3}
    \caption{#1}
  \end{figure}

  \subsection{代码}
  \subsubsection{元件代码}
  \inputminted[bgcolor=bg, linenos=true, fontsize=\footnotesize]{verilog}
  {#2/#4.v}

  \subsubsection{测试代码}
  \inputminted[bgcolor=bg, linenos=true, fontsize=\footnotesize]{verilog}
  {#2/#4_tb.v}

  \subsection{仿真结果}
  \VerbatimInput[fontsize=\scriptsize, numbers=left]
  {#2/result.txt}
}

\begin{document}

\title{作业 1}
\author{无36$\quad$李思涵$\quad$2013011187}
\maketitle

\problem{投票器}{../../homework1/1_voter}{h1_p1}{voter}
\problem{毕业判断器}{../../homework1/2_graduate_judger}{h1_p2}{graduate_judger}
\problem{路灯控制器}{../../homework1/3_street_light_controller}{h1_p3}{street_light_controller}
\problem{温度码}{../../homework1/4_thermometer_to_bcd}{h1_p4}{thermometer_to_bcd}
\problem{原码补码转换器}{../../homework1/5_sign_magnitude_to_twos_complement}{h1_p5}{sign_magnitude_to_twos_complement}
\problem{分频器}{../../homework1/6_watchmaker}{h1_p6}{watchmaker}
\problem{序列检测器}{../../homework1/7_seq_detector}{h1_p7}{sequence_detector_fsm}
\problem{序列生成器}{../../homework1/8_seq_generator}{h1_p8}{seq_generator}

\end{document}

